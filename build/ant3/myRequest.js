"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var MyRequest=function(){function e(){_classCallCheck(this,e),this.headers=null,this.method="POST",this.url="",this.onreadystatechange=function(){}}return _createClass(e,[{key:"open",value:function(e,t){this.method=e||this.method,this.url=t||""}},{key:"setRequestHeader",value:function(e,t){this.headers||(this.headers={}),this.headers[e]=t}},{key:"send",value:function(e){var a=this;if("undefined"!=typeof my){var t=my.httpRequest;my.canIUse("request")&&(t=my.request);try{JSON.parse(e)}catch(e){console.error(e)}t({url:this.url,method:this.method,data:JSON.parse(e),dataType:"json",success:function(e){var t=e.status,s="";200===t&&(s=JSON.stringify(e.data)||"{}"),a.status=t,a.readyState=4,a.responseText=s,a.onreadystatechange(a)},fail:function(e){var t=e.status,s="";e.data&&(s=JSON.stringify(e.data)||"{}"),this.status=t,this.readyState=4,this.responseText=s,this.onreadystatechange(this)}})}}}]),e}();module.exports=MyRequest;