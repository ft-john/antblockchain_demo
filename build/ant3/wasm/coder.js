"use strict";var Util=require("../utils/param"),Buffer=require("safe-buffer").Buffer,WasmCoder=function(){};WasmCoder.prototype.encodeParams=function(e,r,t){var i="";if(!1===Util.isString(e)||!1===Util.isObject(r)||!1===Util.isArray(t))return i;if(!1===Util.isObject(r.schema)||!r.schema[e]||!t)return i;if(!1===Util.isObject(r.schema[e])||!1===Util.isObject(r.schema[e].fields))return i;var f=Object.keys(r.schema[e].fields);if(f.length!==t.length)return i;if(0===t.length)return i=r.toBuffer("string",e).toString("hex");var n={},o=0;f.forEach(function(e){n[e]=t[o],o++});var u=r.toBuffer(e,n),s=r.toBuffer("string",e),a=r.toBuffer("bytes",u),c=Buffer.concat([s,a]);if("Init"===e){var l=new Buffer(4);l.writeUInt32BE(c.length),i=l.toString("hex")+c.toString("hex")}else i=c.toString("hex");return i},WasmCoder.prototype.decodeParam=function(e,r,t){return e&&r&&t?!1===Util.isFunction(e.fromBuffer)?null:e.fromBuffer(r,t):null};var coder=new WasmCoder;module.exports=coder;